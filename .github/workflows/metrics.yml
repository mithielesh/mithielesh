name: Metrics
on:
  schedule: [{cron: "0 0 * * *"}]
  workflow_dispatch:
  push: {branches: ["master", "main"]}
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          user: mithielesh
          template: classic
          
          # 1. SHOW ACTIVITY (Top section: "320 Commits", "2 Issues", etc.)
          base: activity
          config_timezone: Asia/Kolkata
          
          # 2. ENABLE STREAK CALCULATION
          plugin_isocalendar: yes
          plugin_isocalendar_duration: half-year
          
          # 3. THE "INVISIBLE GRAPH" HACK
          # We enable CSS to color the text Neon Green
          # AND we explicitly hide the (.isocalendar-plot) so the graph disappears.
          config_style: CSS
          config_css: |
             body { --color-text-primary: #00ff41; --color-text-secondary: #00ff41; --color-bg: #0a0a0a; }
             .field { color: #ffffff !important; }
             .isocalendar-plot { display: none !important; } 
             .isocalendar-items { margin-top: -20px; } /* Pull text up since graph is gone */
